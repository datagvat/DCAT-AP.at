window.rdfjson=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t,n){!function(){var t=n(4),r=n(1).utf8,o=n(5),i=n(1).bin,a=function(e,n){e.constructor==String?e=n&&"binary"===n.encoding?i.stringToBytes(e):r.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var s=t.bytesToWords(e),u=8*e.length,l=1732584193,c=-271733879,h=-1732584194,f=271733878,d=0;d<s.length;d++)s[d]=16711935&(s[d]<<8|s[d]>>>24)|4278255360&(s[d]<<24|s[d]>>>8);s[u>>>5]|=128<<u%32,s[14+(u+64>>>9<<4)]=u;var p=a._ff,g=a._gg,m=a._hh,y=a._ii;for(d=0;d<s.length;d+=16){var v=l,b=c,w=h,N=f;c=y(c=y(c=y(c=y(c=m(c=m(c=m(c=m(c=g(c=g(c=g(c=g(c=p(c=p(c=p(c=p(c,h=p(h,f=p(f,l=p(l,c,h,f,s[d+0],7,-680876936),c,h,s[d+1],12,-389564586),l,c,s[d+2],17,606105819),f,l,s[d+3],22,-1044525330),h=p(h,f=p(f,l=p(l,c,h,f,s[d+4],7,-176418897),c,h,s[d+5],12,1200080426),l,c,s[d+6],17,-1473231341),f,l,s[d+7],22,-45705983),h=p(h,f=p(f,l=p(l,c,h,f,s[d+8],7,1770035416),c,h,s[d+9],12,-1958414417),l,c,s[d+10],17,-42063),f,l,s[d+11],22,-1990404162),h=p(h,f=p(f,l=p(l,c,h,f,s[d+12],7,1804603682),c,h,s[d+13],12,-40341101),l,c,s[d+14],17,-1502002290),f,l,s[d+15],22,1236535329),h=g(h,f=g(f,l=g(l,c,h,f,s[d+1],5,-165796510),c,h,s[d+6],9,-1069501632),l,c,s[d+11],14,643717713),f,l,s[d+0],20,-373897302),h=g(h,f=g(f,l=g(l,c,h,f,s[d+5],5,-701558691),c,h,s[d+10],9,38016083),l,c,s[d+15],14,-660478335),f,l,s[d+4],20,-405537848),h=g(h,f=g(f,l=g(l,c,h,f,s[d+9],5,568446438),c,h,s[d+14],9,-1019803690),l,c,s[d+3],14,-187363961),f,l,s[d+8],20,1163531501),h=g(h,f=g(f,l=g(l,c,h,f,s[d+13],5,-1444681467),c,h,s[d+2],9,-51403784),l,c,s[d+7],14,1735328473),f,l,s[d+12],20,-1926607734),h=m(h,f=m(f,l=m(l,c,h,f,s[d+5],4,-378558),c,h,s[d+8],11,-2022574463),l,c,s[d+11],16,1839030562),f,l,s[d+14],23,-35309556),h=m(h,f=m(f,l=m(l,c,h,f,s[d+1],4,-1530992060),c,h,s[d+4],11,1272893353),l,c,s[d+7],16,-155497632),f,l,s[d+10],23,-1094730640),h=m(h,f=m(f,l=m(l,c,h,f,s[d+13],4,681279174),c,h,s[d+0],11,-358537222),l,c,s[d+3],16,-722521979),f,l,s[d+6],23,76029189),h=m(h,f=m(f,l=m(l,c,h,f,s[d+9],4,-640364487),c,h,s[d+12],11,-421815835),l,c,s[d+15],16,530742520),f,l,s[d+2],23,-995338651),h=y(h,f=y(f,l=y(l,c,h,f,s[d+0],6,-198630844),c,h,s[d+7],10,1126891415),l,c,s[d+14],15,-1416354905),f,l,s[d+5],21,-57434055),h=y(h,f=y(f,l=y(l,c,h,f,s[d+12],6,1700485571),c,h,s[d+3],10,-1894986606),l,c,s[d+10],15,-1051523),f,l,s[d+1],21,-2054922799),h=y(h,f=y(f,l=y(l,c,h,f,s[d+8],6,1873313359),c,h,s[d+15],10,-30611744),l,c,s[d+6],15,-1560198380),f,l,s[d+13],21,1309151649),h=y(h,f=y(f,l=y(l,c,h,f,s[d+4],6,-145523070),c,h,s[d+11],10,-1120210379),l,c,s[d+2],15,718787259),f,l,s[d+9],21,-343485551),l=l+v>>>0,c=c+b>>>0,h=h+w>>>0,f=f+N>>>0}return t.endian([l,c,h,f])};a._ff=function(e,t,n,r,o,i,a){var s=e+(t&n|~t&r)+(o>>>0)+a;return(s<<i|s>>>32-i)+t},a._gg=function(e,t,n,r,o,i,a){var s=e+(t&r|n&~r)+(o>>>0)+a;return(s<<i|s>>>32-i)+t},a._hh=function(e,t,n,r,o,i,a){var s=e+(t^n^r)+(o>>>0)+a;return(s<<i|s>>>32-i)+t},a._ii=function(e,t,n,r,o,i,a){var s=e+(n^(t|~r))+(o>>>0)+a;return(s<<i|s>>>32-i)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,n){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var r=t.wordsToBytes(a(e,n));return n&&n.asBytes?r:n&&n.asString?i.bytesToString(r):t.bytesToHex(r)}}()},function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t){function n(e,t){for(var n in e)t[n]=e[n]}function r(e,t){var r=e.prototype;if(Object.create){var o=Object.create(t.prototype);r.__proto__=o}if(!(r instanceof t)){function i(){}i.prototype=t.prototype,n(r,i=new i),e.prototype=r=i}r.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),r.constructor=e)}var o="http://www.w3.org/1999/xhtml",i={},a=i.ELEMENT_NODE=1,s=i.ATTRIBUTE_NODE=2,u=i.TEXT_NODE=3,l=i.CDATA_SECTION_NODE=4,c=i.ENTITY_REFERENCE_NODE=5,h=i.ENTITY_NODE=6,f=i.PROCESSING_INSTRUCTION_NODE=7,d=i.COMMENT_NODE=8,p=i.DOCUMENT_NODE=9,g=i.DOCUMENT_TYPE_NODE=10,m=i.DOCUMENT_FRAGMENT_NODE=11,y=i.NOTATION_NODE=12,v={},b={},w=(v.INDEX_SIZE_ERR=(b[1]="Index size error",1),v.DOMSTRING_SIZE_ERR=(b[2]="DOMString size error",2),v.HIERARCHY_REQUEST_ERR=(b[3]="Hierarchy request error",3)),N=(v.WRONG_DOCUMENT_ERR=(b[4]="Wrong document",4),v.INVALID_CHARACTER_ERR=(b[5]="Invalid character",5),v.NO_DATA_ALLOWED_ERR=(b[6]="No data allowed",6),v.NO_MODIFICATION_ALLOWED_ERR=(b[7]="No modification allowed",7),v.NOT_FOUND_ERR=(b[8]="Not found",8)),_=(v.NOT_SUPPORTED_ERR=(b[9]="Not supported",9),v.INUSE_ATTRIBUTE_ERR=(b[10]="Attribute in use",10));v.INVALID_STATE_ERR=(b[11]="Invalid state",11),v.SYNTAX_ERR=(b[12]="Syntax error",12),v.INVALID_MODIFICATION_ERR=(b[13]="Invalid modification",13),v.NAMESPACE_ERR=(b[14]="Invalid namespace",14),v.INVALID_ACCESS_ERR=(b[15]="Invalid access",15);function T(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,b[e]),this.message=b[e],Error.captureStackTrace&&Error.captureStackTrace(this,T);return n.code=e,t&&(this.message=this.message+": "+t),n}function E(){}function S(e,t){this._node=e,this._refresh=t,x(this)}function x(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);ne(e,"length",r.length),n(r,e),e._inc=t}}function D(){}function O(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function C(e,t,n,r){if(r?t[O(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var o=e.ownerDocument;o&&(r&&M(o,e,r),function(e,t,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(o,e,n))}}function A(e,t,n){var r=O(t,n);if(!(r>=0))throw T(N,new Error(e.tagName+"@"+n));for(var o=t.length-1;r<o;)t[r]=t[++r];if(t.length=o,e){var i=e.ownerDocument;i&&(M(i,e,n),n.ownerElement=null)}}function k(e){if(this._features={},e)for(var t in e)this._features=e[t]}function j(){}function I(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function R(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(R(e,t))return!0}while(e=e.nextSibling)}function F(){}function M(e,t,n,r){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete t._nsMap[n.prefix?n.localName:""]}function B(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var o=t.firstChild,i=0;o;)r[i++]=o,o=o.nextSibling;r.length=i}}}function V(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,B(e.ownerDocument,e),t}function P(e,t,n){var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===m){var o=t.firstChild;if(null==o)return t;var i=t.lastChild}else o=i=t;var a=n?n.previousSibling:e.lastChild;o.previousSibling=a,i.nextSibling=n,a?a.nextSibling=o:e.firstChild=o,null==n?e.lastChild=i:n.previousSibling=i;do{o.parentNode=e}while(o!==i&&(o=o.nextSibling));return B(e.ownerDocument||e,e),t.nodeType==m&&(t.firstChild=t.lastChild=null),t}function L(){this._nsMap={}}function U(){}function X(){}function $(){}function q(){}function z(){}function H(){}function G(){}function Y(){}function W(){}function J(){}function Z(){}function Q(){}function K(e,t){var n=[],r=9==this.nodeType?this.documentElement:this,o=r.prefix,i=r.namespaceURI;if(i&&null==o&&null==(o=r.lookupPrefix(i)))var a=[{namespace:i,prefix:null}];return te(this,n,e,t,a),n.join("")}function ee(e,t,n){var r=e.prefix||"",o=e.namespaceURI;if(!r&&!o)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===o||"http://www.w3.org/2000/xmlns/"==o)return!1;for(var i=n.length;i--;){var a=n[i];if(a.prefix==r)return a.namespace!=o}return!0}function te(e,t,n,r,i){if(r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case a:i||(i=[]);i.length;var h=e.attributes,y=h.length,v=e.firstChild,b=e.tagName;n=o===e.namespaceURI||n,t.push("<",b);for(var w=0;w<y;w++){"xmlns"==(N=h.item(w)).prefix?i.push({prefix:N.localName,namespace:N.value}):"xmlns"==N.nodeName&&i.push({prefix:"",namespace:N.value})}for(w=0;w<y;w++){var N;if(ee(N=h.item(w),0,i)){var _=N.prefix||"",T=N.namespaceURI,E=_?" xmlns:"+_:" xmlns";t.push(E,'="',T,'"'),i.push({prefix:_,namespace:T})}te(N,t,n,r,i)}if(ee(e,0,i)){_=e.prefix||"",T=e.namespaceURI,E=_?" xmlns:"+_:" xmlns";t.push(E,'="',T,'"'),i.push({prefix:_,namespace:T})}if(v||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(b)){if(t.push(">"),n&&/^script$/i.test(b))for(;v;)v.data?t.push(v.data):te(v,t,n,r,i),v=v.nextSibling;else for(;v;)te(v,t,n,r,i),v=v.nextSibling;t.push("</",b,">")}else t.push("/>");return;case p:case m:for(v=e.firstChild;v;)te(v,t,n,r,i),v=v.nextSibling;return;case s:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,I),'"');case u:return t.push(e.data.replace(/[<&]/g,I));case l:return t.push("<![CDATA[",e.data,"]]>");case d:return t.push("\x3c!--",e.data,"--\x3e");case g:var S=e.publicId,x=e.systemId;if(t.push("<!DOCTYPE ",e.name),S)t.push(' PUBLIC "',S),x&&"."!=x&&t.push('" "',x),t.push('">');else if(x&&"."!=x)t.push(' SYSTEM "',x,'">');else{var D=e.internalSubset;D&&t.push(" [",D,"]"),t.push(">")}return;case f:return t.push("<?",e.target," ",e.data,"?>");case c:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ne(e,t,n){e[t]=n}T.prototype=Error.prototype,n(v,T),E.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)te(this[r],n,e,t);return n.join("")}},S.prototype.item=function(e){return x(this),this[e]},r(S,E),D.prototype={length:0,item:E.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new T(_);var n=this.getNamedItem(e.nodeName);return C(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new T(_);return t=this.getNamedItemNS(e.namespaceURI,e.localName),C(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return A(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return A(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},k.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return!(!n||t&&!(t in n))},createDocument:function(e,t,n){var r=new F;if(r.implementation=this,r.childNodes=new E,r.doctype=n,n&&r.appendChild(n),t){var o=r.createElementNS(e,t);r.appendChild(o)}return r},createDocumentType:function(e,t,n){var r=new H;return r.name=e,r.nodeName=e,r.publicId=t,r.systemId=n,r}},j.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return P(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return V(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,n,r){var o=new n.constructor;for(var i in n){var u=n[i];"object"!=typeof u&&u!=o[i]&&(o[i]=u)}n.childNodes&&(o.childNodes=new E);o.ownerDocument=t;switch(o.nodeType){case a:var l=n.attributes,c=o.attributes=new D,h=l.length;c._ownerElement=o;for(var f=0;f<h;f++)o.setAttributeNode(e(t,l.item(f),!0));break;case s:r=!0}if(r)for(var d=n.firstChild;d;)o.appendChild(e(t,d,r)),d=d.nextSibling;return o}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==u&&e.nodeType==u?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(n[r]==e)return r;t=t.nodeType==s?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==s?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},n(i,j),n(i,j.prototype),F.prototype={nodeName:"#document",nodeType:p,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==m){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return null==this.documentElement&&e.nodeType==a&&(this.documentElement=e),P(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),V(this,e)},importNode:function(e,t){return function e(t,n,r){var o;switch(n.nodeType){case a:(o=n.cloneNode(!1)).ownerDocument=t;case m:break;case s:r=!0}o||(o=n.cloneNode(!1));o.ownerDocument=t;o.parentNode=null;if(r)for(var i=n.firstChild;i;)o.appendChild(e(t,i,r)),i=i.nextSibling;return o}(this,e,t)},getElementById:function(e){var t=null;return R(this.documentElement,function(n){if(n.nodeType==a&&n.getAttribute("id")==e)return t=n,!0}),t},createElement:function(e){var t=new L;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new E,(t.attributes=new D)._ownerElement=t,t},createDocumentFragment:function(){var e=new J;return e.ownerDocument=this,e.childNodes=new E,e},createTextNode:function(e){var t=new $;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new q;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new z;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new Z;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new U;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new W;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new L,r=t.split(":"),o=n.attributes=new D;return n.childNodes=new E,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,o._ownerElement=n,n},createAttributeNS:function(e,t){var n=new U,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},r(F,j),L.prototype={nodeType:a,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===m?this.insertBefore(e,null):function(e,t){var n=t.parentNode;if(n){var r=e.lastChild;n.removeChild(t),r=e.lastChild}return r=e.lastChild,t.parentNode=e,t.previousSibling=r,t.nextSibling=null,r?r.nextSibling=t:e.firstChild=t,e.lastChild=t,B(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new S(this,function(t){var n=[];return R(t,function(r){r===t||r.nodeType!=a||"*"!==e&&r.tagName!=e||n.push(r)}),n})},getElementsByTagNameNS:function(e,t){return new S(this,function(n){var r=[];return R(n,function(o){o===n||o.nodeType!==a||"*"!==e&&o.namespaceURI!==e||"*"!==t&&o.localName!=t||r.push(o)}),r})}},F.prototype.getElementsByTagName=L.prototype.getElementsByTagName,F.prototype.getElementsByTagNameNS=L.prototype.getElementsByTagNameNS,r(L,j),U.prototype.nodeType=s,r(U,j),X.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(b[w])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},r(X,j),$.prototype={nodeName:"#text",nodeType:u,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},r($,X),q.prototype={nodeName:"#comment",nodeType:d},r(q,X),z.prototype={nodeName:"#cdata-section",nodeType:l},r(z,X),H.prototype.nodeType=g,r(H,j),G.prototype.nodeType=y,r(G,j),Y.prototype.nodeType=h,r(Y,j),W.prototype.nodeType=c,r(W,j),J.prototype.nodeName="#document-fragment",J.prototype.nodeType=m,r(J,j),Z.prototype.nodeType=f,r(Z,j),Q.prototype.serializeToString=function(e,t,n){return K.call(e,t,n)},j.prototype.toString=K;try{if(Object.defineProperty){Object.defineProperty(S.prototype,"length",{get:function(){return x(this),this.$$length}}),Object.defineProperty(j.prototype,"textContent",{get:function(){return function e(t){switch(t.nodeType){case a:case m:var n=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&n.push(e(t)),t=t.nextSibling;return n.join("");default:return t.nodeValue}}(this)},set:function(e){switch(this.nodeType){case a:case m:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ne=function(e,t,n){e["$$"+t]=n}}}catch(e){}t.DOMImplementation=k,t.XMLSerializer=Q},function(e,t,n){function r(e){this.options=e||{locator:{}}}function o(){this.cdata=!1}function i(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function a(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function s(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function u(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}r.prototype.parseFromString=function(e,t){var n=this.options,r=new l,i=n.domBuilder||new o,s=n.errorHandler,u=n.locator,c=n.xmlns||{},h={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return u&&i.setDocumentLocator(u),r.errorHandler=function(e,t,n){if(!e){if(t instanceof o)return t;e=t}var r={},i=e instanceof Function;function s(t){var o=e[t];!o&&i&&(o=2==e.length?function(n){e(t,n)}:e),r[t]=o&&function(e){o("[xmldom "+t+"]\t"+e+a(n))}||function(){}}return n=n||{},s("warning"),s("error"),s("fatalError"),r}(s,i,u),r.domBuilder=n.domBuilder||i,/\/x?html?$/.test(t)&&(h.nbsp=" ",h.copy="©",c[""]="http://www.w3.org/1999/xhtml"),c.xml=c.xml||"http://www.w3.org/XML/1998/namespace",e?r.parse(e,c,h):r.errorHandler.error("invalid doc source"),i.doc},o.prototype={startDocument:function(){this.doc=(new c).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var o=this.doc,a=o.createElementNS(e,n||t),s=r.length;u(this,a),this.currentElement=a,this.locator&&i(this.locator,a);for(var l=0;l<s;l++){e=r.getURI(l);var c=r.getValue(l),h=(n=r.getQName(l),o.createAttributeNS(e,n));this.locator&&i(r.getLocator(l),h),h.value=h.nodeValue=c,a.setAttributeNode(h)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&i(this.locator,n),u(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=s.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&i(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=s.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&i(this.locator,r),u(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var o=r.createDocumentType(e,t,n);this.locator&&i(this.locator,o),u(this,o)}},warning:function(e){console.warn("[xmldom warning]\t"+e,a(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,a(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]\t"+e,a(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){o.prototype[e]=function(){return null}});var l=n(6).XMLReader,c=t.DOMImplementation=n(2).DOMImplementation;t.XMLSerializer=n(2).XMLSerializer,t.DOMParser=r},function(e,t){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var o=e[r]<<16|e[r+1]<<8|e[r+2],i=0;i<4;i++)8*r+6*i<=8*e.length?n.push(t.charAt(o>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,o=0;r<e.length;o=++r%4)0!=o&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|t.indexOf(e.charAt(r))>>>6-2*o);return n}};e.exports=n}()},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t){var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),o=new RegExp("^"+n.source+r.source+"*(?::"+n.source+r.source+"*)?$"),i=0,a=1,s=2,u=3,l=4,c=5,h=6,f=7;function d(){}function p(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function g(e,t,n,r,o,d){for(var p,g=++t,m=i;;){var y=e.charAt(g);switch(y){case"=":if(m===a)p=e.slice(t,g),m=u;else{if(m!==s)throw new Error("attribute equal must after attrName");m=u}break;case"'":case'"':if(m===u||m===a){if(m===a&&(d.warning('attribute value must after "="'),p=e.slice(t,g)),t=g+1,!((g=e.indexOf(y,t))>0))throw new Error("attribute value no end '"+y+"' match");v=e.slice(t,g).replace(/&#?\w+;/g,o),n.add(p,v,t-1),m=c}else{if(m!=l)throw new Error('attribute value must after "="');v=e.slice(t,g).replace(/&#?\w+;/g,o),n.add(p,v,t),d.warning('attribute "'+p+'" missed start quot('+y+")!!"),t=g+1,m=c}break;case"/":switch(m){case i:n.setTagName(e.slice(t,g));case c:case h:case f:m=f,n.closed=!0;case l:case a:case s:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return d.error("unexpected end of input"),m==i&&n.setTagName(e.slice(t,g)),g;case">":switch(m){case i:n.setTagName(e.slice(t,g));case c:case h:case f:break;case l:case a:"/"===(v=e.slice(t,g)).slice(-1)&&(n.closed=!0,v=v.slice(0,-1));case s:m===s&&(v=p),m==l?(d.warning('attribute "'+v+'" missed quot(")!!'),n.add(p,v.replace(/&#?\w+;/g,o),t)):("http://www.w3.org/1999/xhtml"===r[""]&&v.match(/^(?:disabled|checked|selected)$/i)||d.warning('attribute "'+v+'" missed value!! "'+v+'" instead!!'),n.add(v,v,t));break;case u:throw new Error("attribute value missed!!")}return g;case"":y=" ";default:if(y<=" ")switch(m){case i:n.setTagName(e.slice(t,g)),m=h;break;case a:p=e.slice(t,g),m=s;break;case l:var v=e.slice(t,g).replace(/&#?\w+;/g,o);d.warning('attribute "'+v+'" missed quot(")!!'),n.add(p,v,t);case c:m=h}else switch(m){case s:n.tagName;"http://www.w3.org/1999/xhtml"===r[""]&&p.match(/^(?:disabled|checked|selected)$/i)||d.warning('attribute "'+p+'" missed value!! "'+p+'" instead2!!'),n.add(p,p,t),t=g,m=a;break;case c:d.warning('attribute space is required"'+p+'"!!');case h:m=a,t=g;break;case u:m=l,t=g;break;case f:throw new Error("elements closed character '/' and '>' must be connected to")}}g++}}function m(e,t,n){for(var r=e.tagName,o=null,i=e.length;i--;){var a=e[i],s=a.qName,u=a.value;if((f=s.indexOf(":"))>0)var l=a.prefix=s.slice(0,f),c=s.slice(f+1),h="xmlns"===l&&c;else c=s,l=null,h="xmlns"===s&&"";a.localName=c,!1!==h&&(null==o&&(o={},b(n,n={})),n[h]=o[h]=u,a.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(h,u))}for(i=e.length;i--;){(l=(a=e[i]).prefix)&&("xml"===l&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==l&&(a.uri=n[l||""]))}var f;(f=r.indexOf(":"))>0?(l=e.prefix=r.slice(0,f),c=e.localName=r.slice(f+1)):(l=null,c=e.localName=r);var d=e.uri=n[l||""];if(t.startElement(d,c,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=o,!0;if(t.endElement(d,c,r),o)for(l in o)t.endPrefixMapping(l)}function y(e,t,n,r,o){if(/^(?:script|textarea)$/i.test(n)){var i=e.indexOf("</"+n+">",t),a=e.substring(t+1,i);if(/[&<]/.test(a))return/^script$/i.test(n)?(o.characters(a,0,a.length),i):(a=a.replace(/&#?\w+;/g,r),o.characters(a,0,a.length),i)}return t+1}function v(e,t,n,r){var o=r[n];return null==o&&((o=e.lastIndexOf("</"+n+">"))<t&&(o=e.lastIndexOf("</"+n)),r[n]=o),o<t}function b(e,t){for(var n in e)t[n]=e[n]}function w(e,t,n,r){switch(e.charAt(t+2)){case"-":return"-"===e.charAt(t+3)?(o=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,o-t-4),o+3):(r.error("Unclosed comment"),-1):-1;default:if("CDATA["==e.substr(t+3,6)){var o=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,o-t-9),n.endCDATA(),o+3}var i=function(e,t){var n,r=[],o=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;o.lastIndex=t,o.exec(e);for(;n=o.exec(e);)if(r.push(n),n[1])return r}(e,t),a=i.length;if(a>1&&/!doctype/i.test(i[0][0])){var s=i[1][0],u=a>3&&/^public$/i.test(i[2][0])&&i[3][0],l=a>4&&i[4][0],c=i[a-1];return n.startDTD(s,u&&u.replace(/^(['"])(.*?)\1$/,"$2"),l&&l.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),c.index+c[0].length}}return-1}function N(e,t,n){var r=e.indexOf("?>",t);if(r){var o=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(o){o[0].length;return n.processingInstruction(o[1],o[2]),r+2}return-1}return-1}function _(e){}function T(e,t){return e.__proto__=t,e}d.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),b(t,t={}),function(e,t,n,r,o){function i(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(o.error("entity not found:"+e),e)}function a(t){if(t>b){var n=e.substring(b,t).replace(/&#?\w+;/g,i);h&&s(b),r.characters(n,0,t-b),b=t}}function s(t,n){for(;t>=l&&(n=c.exec(e));)u=n.index,l=u+n[0].length,h.lineNumber++;h.columnNumber=t-u+1}var u=0,l=0,c=/.*(?:\r\n?|\n)|.*$/g,h=r.locator,f=[{currentNSMap:t}],d={},b=0;for(;;){try{var T=e.indexOf("<",b);if(T<0){if(!e.substr(b).match(/^\s*$/)){var E=r.doc,S=E.createTextNode(e.substr(b));E.appendChild(S),r.currentElement=S}return}switch(T>b&&a(T),e.charAt(T+1)){case"/":var x=e.indexOf(">",T+3),D=e.substring(T+2,x),O=f.pop();x<0?(D=e.substring(T+2).replace(/[\s<].*/,""),o.error("end tag name: "+D+" is not complete:"+O.tagName),x=T+1+D.length):D.match(/\s</)&&(D=D.replace(/[\s<].*/,""),o.error("end tag name: "+D+" maybe not complete"),x=T+1+D.length);var C=O.localNSMap,A=O.tagName==D,k=A||O.tagName&&O.tagName.toLowerCase()==D.toLowerCase();if(k){if(r.endElement(O.uri,O.localName,D),C)for(var j in C)r.endPrefixMapping(j);A||o.fatalError("end tag name: "+D+" is not match the current start tagName:"+O.tagName)}else f.push(O);x++;break;case"?":h&&s(T),x=N(e,T,r);break;case"!":h&&s(T),x=w(e,T,r,o);break;default:h&&s(T);var I=new _,R=f[f.length-1].currentNSMap,x=g(e,T,I,R,i,o),F=I.length;if(!I.closed&&v(e,x,I.tagName,d)&&(I.closed=!0,n.nbsp||o.warning("unclosed xml attribute")),h&&F){for(var M=p(h,{}),B=0;B<F;B++){var V=I[B];s(V.offset),V.locator=p(h,{})}r.locator=M,m(I,r,R)&&f.push(I),r.locator=h}else m(I,r,R)&&f.push(I);"http://www.w3.org/1999/xhtml"!==I.uri||I.closed?x++:x=y(e,x,I.tagName,i,r)}}catch(e){o.error("element parse error: "+e),x=-1}x>b?b=x:a(Math.max(T,b)+1)}}(e,t,n,r,this.errorHandler),r.endDocument()}},_.prototype={setTagName:function(e){if(!o.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,n){if(!o.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},T({},T.prototype)instanceof T||(T=function(e,t){function n(){}for(t in n.prototype=t,n=new n,e)n[t]=e[t];return n}),t.XMLReader=d},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.r(t);var o,i={ical:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns#",dcterms:"http://purl.org/dc/terms/",skos:"http://www.w3.org/2004/02/skos/core#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",owl:"http://www.w3.org/2002/07/owl#",vs:"http://www.w3.org/2003/06/sw-vocab-status/ns#",foaf:"http://xmlns.com/foaf/0.1/",wot:"http://xmlns.com/wot/0.1/",dc:"http://purl.org/dc/elements/1.1/",xsd:"http://www.w3.org/2001/XMLSchema#",dcat:"http://www.w3.org/ns/dcat#",org:"http://www.w3.org/ns/org#",gn:"http://www.geonames.org/ontology#",schema:"http://schema.org/",ex:"http://example.com/"},a=0,s=function(e,t,n){return i[e]||(i[e]=t),{abbrev:e,ns:t,localname:n,full:t+n,pretty:"".concat(e,":").concat(n)}},u=function(e){var t=Object.keys(i).find(function(t){return 0===e.indexOf(i[t])});if(t)return s(t,i[t],e.substring(i[t].length));var n=e.lastIndexOf("/"),r=e.lastIndexOf("#");return r>n&&(n=r),s("ns".concat(a+=1),e.substring(0,n+1),e.substring(n+1))},l={nsify:u,shortenKnown:function(e){var t=Object.keys(i).find(function(t){return 0===e.indexOf(i[t])});return t?s(t,i[t],e.substring(i[t].length)).pretty:e},shorten:function(e){return u(e).pretty},expand:function(e){var t=e.split(":");return 2===t.length&&i.hasOwnProperty(t[0])?i[t[0]]+t[1]:e},add:function(e,t){"string"==typeof e?i[e]=t:"object"===r(e)&&Object.keys(e).forEach(function(t){i[t]=e[t]})},registry:function(){return i}},c=function(e,t){var n=t.indexOf("#");if(n>0&&(t=t.slice(0,n)),0==e.length)return t;if(0==e.indexOf("#"))return t+e;if(e.indexOf(":")>=0)return e;var r=t.indexOf(":");if(r<0)return console.log("Invalid base URL "+t),e;var o,i=t.slice(0,r+1);if(0==e.indexOf("//"))return i+e;if(t.indexOf("//",r)==r+1){if((o=t.indexOf("/",r+3))<0)return t.length-r-3>0?t+"/"+e:i+e}else if((o=t.indexOf("/",r+1))<0)return t.length-r-1>0?t+"/"+e:i+e;if(0==e.indexOf("/"))return t.slice(0,o)+e;var a=t.slice(o),s=a.lastIndexOf("/");if(s<0)return i+e;for(s>=0&&s<a.length-1&&(a=a.slice(0,s+1)),a+=e;a.match(/[^\/]*\/\.\.\//);)a=a.replace(/[^\/]*\/\.\.\//,"");return a=a.replace(/\.\//g,""),t.slice(0,o)+a},h=o=function(e){o.ns={RDF:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDFS:"http://www.w3.org/2000/01/rdf-schema#"},o.nodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},this.frameFactory=function(e,t,n){return{NODE:1,ARC:2,parent:t,parser:e,store:e.store,element:n,lastChild:0,base:null,lang:null,node:null,nodeType:null,listIndex:1,rdfid:null,datatype:null,collection:!1,terminateFrame:function(){this.collection&&this.node.close()},addSymbol:function(e,t){t=c(t,this.base),this.node=this.store.sym(t),this.nodeType=e},loadTriple:function(){if(this.parent.parent.collection?this.parent.parent.node.append(this.node):this.store.add(this.parent.parent.node,this.parent.node,this.node,this.parser.why),null!=this.parent.rdfid){var e=this.store.sym(c("#"+this.parent.rdfid,this.base));this.store.add(e,this.store.sym(o.ns.RDF+"type"),this.store.sym(o.ns.RDF+"Statement"),this.parser.why),this.store.add(e,this.store.sym(o.ns.RDF+"subject"),this.parent.parent.node,this.parser.why),this.store.add(e,this.store.sym(o.ns.RDF+"predicate"),this.parent.node,this.parser.why),this.store.add(e,this.store.sym(o.ns.RDF+"object"),this.node,this.parser.why)}},isTripleToLoad:function(){return null!=this.parent&&null!=this.parent.parent&&this.nodeType==this.NODE&&this.parent.nodeType==this.ARC&&this.parent.parent.nodeType==this.NODE},addNode:function(e){this.addSymbol(this.NODE,e),this.isTripleToLoad()&&this.loadTriple()},addCollection:function(){this.nodeType=this.NODE,this.node=this.store.collection(),this.collection=!0,this.isTripleToLoad()&&this.loadTriple()},addCollectionArc:function(){this.nodeType=this.ARC},addBNode:function(e){null!=e?null!=this.parser.bnodes[e]?this.node=this.parser.bnodes[e]:this.node=this.parser.bnodes[e]=this.store.bnode():this.node=this.store.bnode(),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()},addArc:function(e){e==o.ns.RDF+"li"&&(e=o.ns.RDF+"_"+this.parent.listIndex++),this.addSymbol(this.ARC,e)},addLiteral:function(e){this.parent.datatype?this.node=this.store.literal(e,"",this.store.sym(this.parent.datatype)):this.node=this.store.literal(e,this.lang),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()}}},this.store=e,this.bnodes={},this.why=null,this.reify=!1,this.parse=function(e,t,n){var r,i=e.childNodes;if(this.cleanParser(),e.nodeType==o.nodeType.DOCUMENT){for(var a=0;a<i.length;a++)if(i[a].nodeType==o.nodeType.ELEMENT){r=i[a];break}}else{if(e.nodeType!=o.nodeType.ELEMENT)throw new Error("RDFParser: can't find root in "+t+". Halting. ");r=e}this.why=n;var s=this.frameFactory(this);return s.base=t,s.lang="",this.parseDOM(this.buildFrame(s,r)),!0},this.parseDOM=function(e){for(var t=function(e){return e.namespaceURI+e.localName},n=!0;e.parent;){var r,i,a=e.element,s=a.attributes;if(a.nodeType==o.nodeType.TEXT||a.nodeType==o.nodeType.CDATA_SECTION)e.addLiteral(a.nodeValue);else if(t(a)!=o.ns.RDF+"RDF")if(e.parent&&e.parent.collection&&(e.addCollectionArc(),(e=this.buildFrame(e,e.element)).parent.element=null),e.parent&&e.parent.nodeType&&e.parent.nodeType!=e.ARC){e.addArc(t(a)),this.reify&&(r=a.getAttributeNodeNS(o.ns.RDF,"ID"))&&(e.rdfid=r.nodeValue,a.removeAttributeNode(r));var u=a.getAttributeNodeNS(o.ns.RDF,"parseType"),l=a.getAttributeNodeNS(o.ns.RDF,"datatype");if(l&&(e.datatype=l.nodeValue,a.removeAttributeNode(l)),u){var h=u.nodeValue;"Literal"==h?(e.datatype=o.ns.RDF+"XMLLiteral",(e=this.buildFrame(e)).addLiteral(a),n=!1):"Resource"==h?((e=this.buildFrame(e,e.element)).parent.element=null,e.addBNode()):"Collection"==h&&((e=this.buildFrame(e,e.element)).parent.element=null,e.addCollection()),a.removeAttributeNode(u)}if(0!=s.length){var f=a.getAttributeNodeNS(o.ns.RDF,"resource");for(i=a.getAttributeNodeNS(o.ns.RDF,"nodeID"),e=this.buildFrame(e),f?(e.addNode(f.nodeValue),a.removeAttributeNode(f)):i?(e.addBNode(i.nodeValue),a.removeAttributeNode(i)):e.addBNode(),m=s.length-1;m>=0;m--){var d=this.buildFrame(e);d.addArc(t(s[m])),t(s[m])==o.ns.RDF+"type"?this.buildFrame(d).addNode(s[m].nodeValue):this.buildFrame(d).addLiteral(s[m].nodeValue)}}else 0==a.childNodes.length&&this.buildFrame(e).addLiteral("")}else{var p=a.getAttributeNodeNS(o.ns.RDF,"about");if(r=a.getAttributeNodeNS(o.ns.RDF,"ID"),p&&r)throw new Error("RDFParser: "+a.nodeName+" has both rdf:id and rdf:about. Halting. Only one of these properties may be specified on a node.");null==p&&r?(e.addNode("#"+r.nodeValue),a.removeAttributeNode(r)):null==p&&null==r?(i=a.getAttributeNodeNS(o.ns.RDF,"nodeID"))?(e.addBNode(i.nodeValue),a.removeAttributeNode(i)):e.addBNode():(e.addNode(p.nodeValue),a.removeAttributeNode(p));var g=a.getAttributeNodeNS(o.ns.RDF,"type");o.ns.RDF+"Description"!=t(a)&&(g={nodeValue:t(a)}),null!=g&&(this.store.add(e.node,this.store.sym(o.ns.RDF+"type"),this.store.sym(c(g.nodeValue,e.base)),this.why),g.nodeName&&a.removeAttributeNode(g));for(var m=s.length-1;m>=0;m--)this.store.add(e.node,this.store.sym(t(s[m])),this.store.literal(s[m].nodeValue,e.lang),this.why)}for(a=e.element;e.parent;){for(var y=e;null==a;)a=(e=e.parent).element;var v=a.childNodes,b=null!=v?v[e.lastChild]:null;if(null!=b&&n){if((b.nodeType==o.nodeType.ELEMENT||b.nodeType==o.nodeType.TEXT||b.nodeType==o.nodeType.CDATA_SECTION)&&(b.nodeType!=o.nodeType.TEXT&&b.nodeType!=o.nodeType.CDATA_SECTION||1==a.childNodes.length)){e.lastChild++,e=this.buildFrame(y,a.childNodes[e.lastChild-1]);break}e.lastChild++}else{if(e.terminateFrame(),!(e=e.parent))break;a=e.element,n=!0}}}},this.cleanParser=function(){this.bnodes={},this.why=null},this.buildFrame=function(e,t){var n=this.frameFactory(this,e,t);if(e&&(n.base=e.base,n.lang=e.lang),null==t||t.nodeType==o.nodeType.TEXT||t.nodeType==o.nodeType.CDATA_SECTION)return n;var r=t.attributes,i=t.getAttributeNode("xml:base");null!=i&&(n.base=i.nodeValue,t.removeAttribute("xml:base"));var a=t.getAttributeNode("xml:lang");null!=a&&(n.lang=a.nodeValue,t.removeAttribute("xml:lang"));for(var s=r.length-1;s>=0;s--)"xml"==r[s].nodeName.substr(0,3)&&t.removeAttributeNode(r[s]);return n}};function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=function(e){return"object"==f(e)?e:"string"==typeof e?new b(e):void(void 0!==e&&alert("Can't make term from "+e+" of type "+f(e)))},p=function(){return this};p.prototype.termType="empty",p.prototype.toString=function(){return""},p.prototype.toNT=function(){return""};var g=function(){return function(e){return"<"+e.uri+">"}(this)},m=function(e){return this.uri=e,this};m.prototype.termType="symbol",m.prototype.toString=g,m.prototype.toNT=g;var y=0,v=function(){return this.id=y++,this};v.prototype.termType="bnode",v.prototype.toNT=function(){return"_:n"+this.id},v.prototype.toString=v.prototype.toNT;var b=function(e,t,n){return this.value=e,this.lang=t,this.datatype=n,this};b.prototype.termType="literal",b.prototype.toNT=function(){var e=this.value;if("string"!=typeof e)throw Error("Value of RDF literal is not string: "+e);return e='"'+(e=(e=e.replace(/\\/g,"\\\\")).replace(/"/g,'\\"'))+'"',this.datatype&&(e=e+"^^"+this.datatype),this.lang&&(e=e+"@"+this.lang),e},b.prototype.toString=function(){return this.value};var w=function(){this.id=y++,this.elements=[],this.closed=!1};w.prototype.termType="collection",w.prototype.toNT=function(){return"_:n"+this.id},w.prototype.toString=w.prototype.toNT,w.prototype.append=function(e){this.elements.push(e)},w.prototype.close=function(){this.closed=!0};var N=function(){return this.subject.toNT()+" "+this.predicate.toNT()+" "+this.object.toNT()+" ."},_=function(e,t,n,r){return this.subject=d(e),this.predicate=d(t),this.object=d(n),void 0!==r&&(this.why=r),this};_.prototype.toNT=N,_.prototype.toString=N;var T=function(){return this.statements=[],this.constraints=[],this.initBindings=[],this.optional=[],this},E=function(){return"{\n"+this.statements.join("\n")+"}"};T.prototype.termType="formula",T.prototype.toNT=E,T.prototype.toString=E,T.prototype.add=function(e,t,n,r){this.statements.push(new _(e,t,n,r))},T.prototype.sym=function(e,t){return null!=t&&(e=this.namespaces[e]+t),new m(e)},T.prototype.literal=function(e,t,n){return new b(e.toString(),t,n)},T.prototype.bnode=function(){return new v},T.prototype.formula=function(){return new T},T.prototype.collection=function(){return new w};var S=function(e){return this.uri=c(e,"varid:"),this};function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}S.prototype.termType="variable",S.prototype.toNT=function(){return"varid:"==this.uri.slice(0,"varid:".length)?"?"+this.uri.slice("varid:".length):"?"+this.uri},S.prototype.toString=S.prototype.toNT,S.prototype.classOrder=7,T.prototype.variable=function(e){return new S(e)},S.prototype.hashString=S.prototype.toNT,T.prototype.fromNT=function(e){var t=e.length,n=e.slice(0,1);if("<"==n)return this.sym(e.slice(1,t-1));if("_"==n){var r=new v;return r.id=parseInt(e.slice(3)),y--,r}alert("Can't yet convert from NT: '"+e+"', "+e[0])};var D=function(){function e(t,n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._graph=t,this._s=n,this._p=r,this._o=o,this._o._statement=this,this._asserted=i}return function(e,t,n){t&&x(e.prototype,t),n&&x(e,n)}(e,[{key:"getGraph",value:function(){return this._graph}},{key:"setAsserted",value:function(e){e!==this._asserted&&(e?this._graph.add(this,void 0,void 0,this._silentValue):this._graph.remove(this,this._silentValue),this._asserted=e)}},{key:"isAsserted",value:function(){return this._asserted}},{key:"getSubject",value:function(){return this._s}},{key:"isSubjectBlank",value:function(){return!0!==this._sIsBlank&&!1!==this._sIsBlank&&(this._sIsBlank=0===this._s.indexOf("_:")),this._sIsBlank}},{key:"setSubject",value:function(e){this._silentValue=!1;var t=l.expand(e);this._asserted?(this._graph.remove(this),this._s=t,this._graph.add(this),delete this._sIsBlank):this._s=t}},{key:"getPredicate",value:function(){return this._p}},{key:"setPredicate",value:function(e){this._silentValue=!1;var t=l.expand(e);this._asserted?(this._graph.remove(this),this._p=t,this._graph.add(this)):this._p=t}},{key:"getNamedGraph",value:function(){return this._o.ng}},{key:"setNamedGraph",value:function(e){this._o.ng=e}},{key:"getObject",value:function(){return this._o}},{key:"getCleanObject",value:function(){var e=this._o,t={value:e.value,type:e.type};return this._o.ng&&(t.ng=e.ng),e.language&&(t.language=e.language),this._o.datatype&&(t.datatype=e.datatype),t}},{key:"getType",value:function(){return this._o.type}},{key:"setType",value:function(e){throw new Error("Changing the type of an object is not supported, create a new statement instead.")}},{key:"getValue",value:function(){return this._o.value}},{key:"setValue",value:function(e,t){this._silentValue=!0===t,e!==this._o.value&&(this._o.value=e,this.isAsserted()&&!0!==t&&this._graph.setChanged())}},{key:"getLanguage",value:function(){return this._o.lang}},{key:"setLanguage",value:function(e,t){if(this._silentValue=!0===t,"literal"!==this._o.type)throw new Error("Cannot set the language for a resource, has to be a literal");this._o.lang!==e&&(this._o.lang=e,this.isAsserted()&&!0!==t&&this._graph.setChanged())}},{key:"getDatatype",value:function(){return this._o.datatype}},{key:"setDatatype",value:function(e,t){if(this._silentValue=!0===t,"literal"!==this._o.type||null!=this._o.lang)throw new Error("Cannot set the datatype for a resource, has to be a literal");this._o.datatype!==e&&(this._o.datatype=e,this.isAsserted()&&!0!==t&&this._graph.setChanged())}}]),e}();function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var C=function(e){return void 0!==e&&(null===e||"object"===O(e)||isArray(e)||k(e))},A=function(e){return"string"==typeof e||e instanceof String},k=function(e){return"[object Function]"===Object.prototype.toString.call(e)},j=function(e,t,n){0===e[t][n].length&&(delete e[t][n],0===Object.keys(e[t]).length&&delete e[t])},I=function(e){if(!C(e[0]))throw new Error("Graph is not a object.");if(!A(e[1]))throw new Error("Subject is not a string.");if(!A(e[2]))throw new Error("Predicate is not a string.");if(!C(e[3]))throw new Error("Object is not a object.");if(void 0===e[3].type)throw new Error("Object has no type attribute, must be one of 'uri', 'literal', or 'bnode'");if(void 0===e[3].value)throw new Error("Object has no value attribute corresponding to the lexical value of the object.")},R=function(e,t){return e===t||null==e&&e===t||(A(e)?A(t)?e===t:e===t.value:A(t)?e.value===t:e.type===t.type&&e.value===t.value&&e.lang===t.lang&&e.datatype===t.datatype)},F={isObject:C,isString:A,isFunction:k,statementEquals:function(e,t){return e.s===t.s&&e.p===t.p&&R(e.o,t.o)},add:function(e,t,n,r){if(I([e,t,n,r]),void 0===e[t])return e[t]={},e[t][n]=[r],r;if(void 0===e[t][n])return e[t][n]=[r],r;var o,i=e[t][n];for(o=i.length-1;o>=0;o--)if(R(r,i[o]))return i[o];return i.push(r),r},remove:function(e,t,n,r){if(I([e,t,n,r]),void 0!==e[t]&&void 0!==e[t][n]){var o,i=e[t][n];for(o=i.length-1;o>=0;o--)if(R(r,i[o])){var a=i[o];return i.splice(o,1),j(e,t,n),a}}},contains:function(e,t,n,r){if(I([e,t,n,r]),void 0!==e[t]&&void 0!==e[t][n]){var o,i=e[t][n];for(o=i.length-1;o>=0;o--)if(R(r,i[o]))return i[o]}},cleanup:j,checkForWrongArgs:I,objectEquals:R,findDirectOrRDFValue:function(e,t,n){var r=e.find(t,n);if(r.length>0)return"bnode"!==r[0].getType()?r[0].getValue():e.findFirstValue(r[0].getValue(),"http://www.w3.org/1999/02/22-rdf-syntax-ns#value")}},M=n(0),B=n.n(M),V={extract:function e(t,n,r,o){var i=o||new $,a=r||{};return t.find(n,null,null).forEach(function(n){a[n.getPredicate()]||(i.add(n),"bnode"===n.getType()&&e(t,i,n.getValue(),a))}),i},remove:function e(t,n,r){var o=r||{};t.find(n,null,null).forEach(function(n){t.remove(n),o[n.getPredicate()]||"bnode"===n.getType()&&e(t,n.getValue(),o)})},fingerprint:function(e,t){var n=[],r=new Set((t||[]).map(l.expand)),o=[],i={},a=function(e){var t=e.getValue();return e.getLanguage()&&(t+="@".concat(e.getLanguage())),e.getDatatype()&&(t+="^^".concat(e.getDatatype())),t},s=function(e,t){var n=i[e]||{rels:[]};i[e]=n,n.rels.push(t)};return e.find().forEach(function(e){var t=e.getSubject(),i=e.getPredicate();if(!r.has(i)){var u="bnode"===e.getType(),l=e.isSubjectBlank();if(l||u)return o.push(e),l&&s(e.getSubject(),u?i:i+a(e)),void("bnode"===e.getType()&&s(e.getValue(),l?i:t+i));n.push(t+i+a(e))}}),Object.values(i).forEach(function(e){e.rels.sort(),e.hash=B()(e.rels.join(""))}),o.forEach(function(e){var t=[];t.push(e.isSubjectBlank()?i[e.getSubject()].hash:e.getSubject()),t.push(e.getPredicate()),t.push("bnode"===e.getType()?i[e.getValue()].hash:a(e)),n.push(t.join(""))}),n.sort(),B()(n.join(""))}};function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var U=function(e){return 0===e.length?e:[e[0]]},X=function e(t,n,r){return{object:function(o){for(var i=0;i<n.length;i++){var a=void 0;if(r)a=n[i].getSubject();else{var s=n[i].getType();if("uri"===s||"bnode"===s)continue;a=n[i].getValue()}var u=t.find(a,o);u.length>0&&e(t,[u[0]])}return e(t,[])},objects:function(o){var i,a=[];if(!0===r)for(i=0;i<n.length;i++)a=a.concat(t.find(n[i].getSubject(),o));else for(i=0;i<n.length;i++){var s=n[i].getType();"uri"!==s&&"bnode"!==s||(a=a.concat(t.find(n[i].getValue(),o)))}return e(t,a)},constr:function(o,i){var a=i;F.isString(a)&&(a={type:"uri",value:a});for(var s=[],u=0;u<n.length;u++){var l=r?n[u].getSubject():n[u].getValue();t.find(l,o,a).length>0&&s.push(n[u])}return e(t,s,r)},each:function(o,i){if(!0===r)for(var a=0;a<n.length;a++){var s="_:"===n[a].getSubject().substring(0,2)?"bnode":"uri";null!=i&&i!==s||o(e(t,n[a],r))}else for(var u=0;u<n.length;u++)o(e(t,n[u],r))},nodes:function(e){var t=[];if(!0===r)for(var o=0;o<n.length;o++){var i="_:"===n[o].getSubject().substring(0,2)?"bnode":"uri";null!=e&&e!==i||t.push({type:i,value:n[o].getSubject()})}else for(var a=0;a<n.length;a++)null!=e&&e!==n[a].getType()||t.push(n[a].getObject());return t},values:function(e){var t=[];if(!0===r)for(var o=0;o<n.length;o++){var i="_:"===n[o].getSubject().substring(0,2)?"bnode":"uri";null!=e&&e!==i||t.push(n[o].getSubject())}else for(var a=0;a<n.length;a++)null!=e&&e!==n[a].getType()||t.push(n[a].getValue());return t},firstValue:function(e){if(!0===r)for(var t=0;t<n.length;t++){var o="_:"===n[t].getSubject().substring(0,2)?"bnode":"uri";if(null==e||e===o)return n[t].getSubject()}else for(var i=0;i<n.length;i++)if(null==e||e===n[i].getType())return n[i].getValue()}}},$=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._graph=t||{},this._bnodes={},this._bnodesIndexed=!1,!1!==n&&this.validate(),this._changed=!1}return function(e,t,n){t&&L(e.prototype,t),n&&L(e,n)}(e,[{key:"isEmpty",value:function(){var e=this;return!Object.keys(this._graph).find(function(t){var n=e._graph[t];return Object.keys(n).find(function(e){return n[e].find(function(e){return null==e._statement||e._statement.isAsserted()})})})}},{key:"onChange",value:function(){}},{key:"setChanged",value:function(e){this._changed=!(!0!==e&&null!=e),this._changed&&this.onChange()}},{key:"isChanged",value:function(){return this._changed}},{key:"addAll",value:function(e,t){for(var n,r={},o=e.find(),i=0;i<o.length;i++){var a=o[i],s=a.getSubject(),u=a.getPredicate(),l=a.getCleanObject();t&&(l.ng=t),0===s.indexOf("_:")&&(n=r[s]||this._newBNode(),r[s]=n,s=n),0===u.indexOf("_:")&&(n=r[u]||this._newBNode(),r[u]=n,u=n),"bnode"===l.type&&(n=r[l.value]||this._newBNode(),r[l.value]=n,l.value=n),this.add(s,u,l)}}},{key:"add",value:function(e,t,n,r){if(e instanceof D){var o=e.getPredicate(),i=e.getObject(),a=e.getSubject();this._trackBNodes(a,o,i);var s=this._graphObject(i),u=F.add(this._graph,a,o,s);return!0!==r&&this.setChanged(),this._get(a,o,u,!0)}return this.create(e,t,n,!0,r)}},{key:"addL",value:function(e,t,n,r){var o={type:"literal",value:n};return"string"==typeof r&&(o.lang=r),this.create(e,t,o,!0)}},{key:"addD",value:function(e,t,n,r){var o={type:"literal",value:n};return"string"==typeof r&&(o.datatype=l.expand(r)),this.create(e,t,o,!0)}},{key:"create",value:function(e,t,n,r,o){var i=e,a=t,s=n;if(i=null==i?this._newBNode():l.expand(i),a=null==a?this._newBNode():l.expand(a),null==s?s={type:"bnode",value:this._newBNode()}:F.isString(s)?s={type:"uri",value:l.expand(s)}:("uri"===(s={type:s.type,value:s.value,lang:s.lang,datatype:s.datatype}).type&&null!=s.value&&(s.value=l.expand(s.value)),s.datatype&&(s.datatype=l.expand(s.datatype))),!1!==r){var u=F.add(this._graph,i,a,s);return!0!==o&&this.setChanged(),this._getOrCreate(i,a,u,!0)}return new D(this,i,a,s,!1)}},{key:"findAndRemove",value:function(e,t,n,r){for(var o=this.find(e,t,n),i=0;i<o.length;i++)this.remove(o[i],r)}},{key:"remove",value:function(e,t){var n=e.getSubject(),r=e.getPredicate(),o=e.getObject();this._trackBNodes(n,r,o),null!=F.remove(this._graph,n,r,o)&&!0!==t&&this.setChanged()}},{key:"find",value:function(e,t,n){var r=e,o=t,i=n;if("string"==typeof r&&(r=l.expand(r)),"string"==typeof o&&(o=l.expand(o)),"object"===P(i)&&null!==i&&"uri"===i.type?i.value=l.expand(i.value):"string"==typeof i&&(i={type:"uri",value:l.expand(i)}),null==i)return null==o?null==r?this._find():this._findS(r):null==r?this._findP(o):this._findSP(r,o);if(null==o)return null==r?this._findO(i):this._findSO(r,i);if(null==r)return this._findPO(o,i);var a=this._get(r,o,F.contains(this._graph,r,o,i),!0);return null==a?[]:[a]}},{key:"findFirstValue",value:function(e,t){var n=this.find(e,t);if(n.length>0)return n[0].getValue()}},{key:"projection",value:function(e,t,n){var r=this,o={};return Object.keys(t).forEach(function(i){var a=t[i],s=r.find(e,a);if(s.length>0)switch("*"===i[0]?o[i.substr(1)]=s.map(function(e){return e.getValue()}):o[i]=s[0].getValue(),n||"none"){case"statement":o["*".concat(i)]=s;break;case"objects":o["*".concat(i)]=s.map(function(e){return e.getCleanObject()});break;case"values":o["*".concat(i)]=s.map(function(e){return e.getValue()})}}),o}},{key:"subjects",value:function(e,t){return X(this,this.find(null,e,t),!0)}},{key:"subject",value:function(e,t){return X(this,U(this.find(null,e,t)),!0)}},{key:"objects",value:function(e,t){return X(this,this.find(e,t,null))}},{key:"object",value:function(e,t){return X(this,U(this.find(e,t,null)))}},{key:"exportRDFJSON",value:function(){var e=this._graph,t={};return Object.keys(e).forEach(function(n){var r=e[n];t[n]={},Object.keys(r).forEach(function(e){var o=[];t[n][e]=o,r[e].forEach(function(e){var t={type:e.type,value:e.value};null!=e.ng&&(t.ng=e.ng),null!=e.lang&&(t.lang=e.lang),null!=e.datatype&&(t.datatype=e.datatype),o.push(t)})})}),t}},{key:"replaceSubject",value:function(e,t){return this.replaceURI(e,t)}},{key:"replaceURI",value:function(e,t){var n=this._graph;if(n.hasOwnProperty(e)){if(n.hasOwnProperty(t))throw new Error("Cannot replace subject with target URI since it already exists.");n[t]=n[e],delete n[e],this.forEach(function(n,r,o){"uri"===o.type&&o.value===e&&(o.value=t),n===t&&o._statement&&(o._statement._s=t)})}return this}},{key:"clone",value:function(){return new e(this.exportRDFJSON())}},{key:"findProperties",value:function(e){return Object.keys(this._graph[e]||{})}},{key:"validate",value:function(){if(this.report=this._validate(),!this.report.valid)throw this.report;return this.report}},{key:"registerBNode",value:function(e){this._bnodes[e]=!0}},{key:"forEach",value:function(e){var t=this._graph;Object.keys(t).forEach(function(n){var r=t[n];Object.keys(r).forEach(function(t){r[t].forEach(function(r){e(n,t,r)})})})}},{key:"map",value:function(e){var t=[];return this.forEach(function(n){t.push(e(n))}),t}},{key:"equals",value:function(e,t){return V.fingerprint(this,t)===V.fingerprint(e,t)}},{key:"_get",value:function(e,t,n,r){if(null!=n)return this._getOrCreate(e,t,n,r)}},{key:"_getOrCreate",value:function(e,t,n,r){return null==n._statement&&(n._statement=new D(this,e,t,n,r)),n._statement}},{key:"_graphObject",value:function(e){return null==e._statement||e._statement._graph===this?e:{type:e.type,value:e.value,lang:e.lang,datatype:e.datatype}}},{key:"_findSP",value:function(e,t){var n=this;return null==this._graph[e]||null==this._graph[e][t]?[]:this._graph[e][t].map(function(r){return n._get(e,t,r,!0)})}},{key:"_findS",value:function(e){var t=this,n=this._graph[e],r=Object.keys(n||{}).map(function(n){return t._findSP(e,n)});return Array.prototype.concat.apply([],r)}},{key:"_find",value:function(){var e=this,t=[];return this.forEach(function(n,r,o){t.push(e._get(n,r,o,!0))}),t}},{key:"_findP",value:function(e){var t=this,n=[];return this.forEach(function(r,o,i){e===o&&n.push(t._get(r,o,i,!0))}),n}},{key:"_findO",value:function(e){var t=this,n=[];return this.forEach(function(r,o,i){F.objectEquals(e,i)&&n.push(t._get(r,o,i,!0))}),n}},{key:"_findSO",value:function(e,t){var n=this,r=[];return this.forEach(function(o,i,a){e===o&&F.objectEquals(t,a)&&r.push(n._get(o,i,a,!0))}),r}},{key:"_findPO",value:function(e,t){var n=this,r=[];return this.forEach(function(o,i,a){e===i&&F.objectEquals(t,a)&&r.push(n._get(o,i,a,!0))}),r}},{key:"_validate",value:function(){var e=this._graph,t={valid:!0,errors:[],nr:0};return Object.keys(e).forEach(function(n){var r=e[n];F.isObject(r)?Object.keys(r).forEach(function(e){var o=r[e];Array.isArray(o)?o.forEach(function(r,o){F.isObject(r)?null!=r.type?F.isString(r.value)?t.nr+=1:(t.errors.push({s:n,p:e,oindex:o+1,message:"Object ".concat(o+1," in object array must have the 'value' attribute pointing to a string.")}),t.valid=!1):(t.errors.push({s:n,p:e,oindex:o+1,message:"Object ".concat(o+1," in object array lacks the attribute type, must be either 'literal', 'resource' or 'bnode'.")}),t.valid=!1):(t.errors.push({s:n,p:e,oindex:o+1,message:"Element ".concat(o+1," in object array is not an object.")}),t.valid=!1)}):(t.errors.push({s:n,p:e,message:"Predicate must point to an array of objects."}),t.valid=!1)}):(t.errors.push({s:n,message:"Subject must point to an object."}),t.valid=!1)}),t}},{key:"_newBNode",value:function(){var e,t,n;for(this._indexBNodes(),e=1;e<20;e++)for(t=1;t<=e;t++)if(n="_:".concat(Math.floor(Math.random()*(Math.pow(10,e)+1))),!0!==this._bnodes[n])return this._bnodes[n]=!0,n;throw new Error("Failed creating a new blank node, increadible unprobable...")}},{key:"_indexBNodes",value:function(){var e=this;if(!this._bnodesIndexed){var t=this._graph;Object.keys(t).forEach(function(n){0===n.indexOf("_:")&&(e._bnodes[n]=!0);var r=t[n];Object.keys(r).forEach(function(t){0===t.indexOf("_:")&&(e._bnodes[t]=!0),r[t].forEach(function(t){"bnode"===t.type&&(e._bnodes[t.value]=!0)})})}),this._bnodesIndexed=!0}}},{key:"_trackBNodes",value:function(e,t,n){0===e.indexOf("_:")&&(this._bnodes[e]=!0),0===t.indexOf("_:")&&(this._bnodes[t]=!0),"bnode"===n.type&&(this._bnodes[n.value]=!0)}}]),e}(),q=n(3),z=n.n(q);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var G,Y,W="    ";if("undefined"==typeof window||void 0===window.DOMParser&&"undefined"==typeof ActiveXObject){G=function(e){return(new XMLSerializer).serializeToString(e)};var J=z.a.DOMParser;Y=function(e){return(new J).parseFromString(e,"text/xml")}}else G=function(e){return e.xml},Y=function(e){var t;try{if(window.DOMParser)t=(new DOMParser).parseFromString(e,"text/xml");else(t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)}catch(e){t=null}if(!t||!t.documentElement||t.getElementsByTagName("parsererror").length)throw new Error("Could not parse text as xml");return t};var Z=function(e){if(/ /i.test(e))throw{message:"Spaces inside of URL not supported: ".concat(e),space:!0};if(!/^(?:[a-z][a-z0-9+.-]*:)/i.test(e))throw{message:"Relative URL not supported: ".concat(e),relative:!0}},Q=function(e,t){var n=e;F.isString(n)&&(n=Y(n));var r=t||new $({}),o=new T;return o.add=function(e,t,n){var o,i,a={};e instanceof v?(o=e.toString(),r.registerBNode(o)):(Z(e.uri),o=e.uri),t instanceof v?(i=t.toString(),r.registerBNode(i)):(Z(t.uri),i=t.uri),n instanceof b?(a.type="literal",a.value=n.value,n.lang&&(a.lang=n.lang),n.datatype&&(a.datatype=n.datatype.uri)):n instanceof m?(Z(n.uri),a.type="uri",a.value=n.uri):n instanceof v&&(a.value=n.toString(),r.registerBNode(a.value),a.type="bnode"),r.create(o,i,a,!0)},new h(o).parse(n,"",""),r},K={xml2string:G,string2xml:Y,rdfxml2graph:Q,rdfjson2rdfxml:function(e){var t=e instanceof $?e._graph:e||{},n=[],r={},o=[];Object.keys(t).forEach(function(e){"_:"===e.substr(0,2)?o.push("".concat("  ",'<rdf:Description rdf:nodeID="_').concat(e.substring(2),'">\n')):o.push("".concat("  ",'<rdf:Description rdf:about="').concat(e,'">\n'));var i=t[e];Object.keys(i).forEach(function(e){var t=function(e){var t=l.nsify(e);return r[t.abbrev]||(n.push(t.abbrev),r[t.abbrev]=t.ns),t.pretty}(e);i[e].forEach(function(e){var n;switch(e.type){case"literal":n=e.value.replace("&","&amp;").replace("<","&lt;"),null!=e.lang?o.push("".concat(W,"<").concat(t,' xml:lang="').concat(e.lang,'">').concat(n,"</").concat(t,">\n")):null!=e.datatype?o.push("".concat(W,"<").concat(t,' rdf:datatype="').concat(e.datatype,'">').concat(n,"</").concat(t,">\n")):o.push("".concat(W,"<").concat(t,">").concat(n,"</").concat(t,">\n"));break;case"uri":o.push("".concat(W,"<").concat(t,' rdf:resource="').concat(e.value,'"/>\n'));break;case"bnode":"_:"===e.value.substr(0,2)?o.push("".concat(W,"<").concat(t,' rdf:nodeID="_').concat(e.value.substring(2),'"/>\n')):o.push("".concat(W,"<").concat(t,' rdf:nodeID="').concat(e.value,'"/>\n'))}})}),o.push("".concat("  ","</rdf:Description>\n"))});for(var i=['<?xml version="1.0"?>\n<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"'],a=0;a<n.length;a++)"rdf"!==n[a]&&i.push("\n\txmlns:".concat(n[a],'="').concat(r[n[a]],'"'));return i.push(">\n"),o.unshift(i.join("")),o.push("</rdf:RDF>"),o.join("")},detect:function(e){var t={};if("string"==typeof e)if(-1!==e.substr(0,200).toLowerCase().indexOf("<rdf:rdf")){t.format="rdf/xml";try{t.graph=Q(e)}catch(e){e.relative||e.space?(t.error=e.message,t.errorCode=1):(t.error="Invalid rdf/xml",t.errorCode=2)}}else if('{"'===e.substring(0,2)){t.format="rdf/json";try{var n=JSON.parse((void 0).rdfjson);t.graph=new $(n)}catch(e){t.error="Invalid json.",t.errorCode=3}}else t.error="No RDF detected.",t.errorCode=4;else e instanceof $?(t.format="rdf/json",t.graph=e):"object"===H(e)?(t.format="rdf/json",t.graph=new $(e)):(t.error="unknown format",t.errorCode=5);t.error||t.graph.validate().valid||(t.error="RDF/JSON is not valid.",t.errorCode=6);return t}};n.d(t,"namespaces",function(){return l}),n.d(t,"converters",function(){return K}),n.d(t,"Graph",function(){return $}),n.d(t,"Statement",function(){return D}),n.d(t,"utils",function(){return V})}]);